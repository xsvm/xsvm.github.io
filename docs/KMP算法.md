# KMP算法
## 1. 简介
`KMP算法`（Knuth-Morris-Pratt）是一种改进的字符串匹配算法，由Donald Knuth、James H. Morris和Vaughan Pratt三人于1977年共同发表。与`BF算法`相比，KMP算法通过利用已经部分匹配这个有效信息，保持主串的指针不回溯，从而大大提高了匹配效率。
### 1.1 时间复杂度
KMP算法的时间复杂度为O(m+n)，其中m为主串长度，n为模式串长度。这比BF算法的O(m*n)要高效得多。
## 2. 原理
KMP算法的核心思想是利用模式串的**前缀和后缀**信息，在匹配失败时，通过已知的部分匹配信息，尽可能地减少模式串的回溯次数。这个信息被存储在一个叫做`next数组`（或"失配函数"）的数组中。
### 2.1 next数组
next数组是KMP算法的关键，它记录了模式串中每个位置的最长相等前后缀长度：
- 对于模式串的每个位置i，`next[i]`表示从开头到位置i的子串中，相等的前缀和后缀的最大长度
- 这个信息用来指导在匹配失败时，模式串应该回退到什么位置继续匹配
对于模式串"ABABC"：
位置i:     0  1  2  3  4
模式串:    A  B  A  B  C
next[i]: [-1  0  0  1  2]
- next[0] = -1，表示模式串的第一个字符没有前缀
- next[1] = 0，表示模式串的前两个字符"AB"没有相等的前缀和后缀
- next[2] = 0，表示模式串的前三个字符"ABA"没有相等的前缀和后缀
- next[3] = 1，表示模式串的前四个字符"ABAB"有相等的前缀和后缀，即"AB"
- next[4] = 2，表示模式串的前五个字符"ABABC"有相等的前缀和后缀，即"AB"

### 2.2 匹配过程
KMP算法的匹配过程如下：